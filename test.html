<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="UTF-8">
    <title>Markedsligevægt - Mikroøkonomi</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@100;300;400;500;700&family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@100;400;500&family=Roboto:wght@100;300;400;500;700&display=swap"
        rel="stylesheet">
    <!-- MDB CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-Tekst@0.5.5/chartjs-plugin-Tekst.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.svg">
    <link rel="stylesheet" href="podcast-player-modern.css">
    <style>
        /* Custom styles for tables with hover effect */
        .table-hover tbody tr:hover {
            background-color: #f5f5f5;
            /* Light gray on hover */
            cursor: pointer;
        }

        /* Ensure video respects container width and white background */
        .book-cover-wrapper {
            position: relative;
            width: 100%;
            max-width: 100%;
            overflow: hidden;
            background-color: white;
        }

        .book-cover-wrapper video {
            width: 100%;
            height: auto;
            max-width: 100%;
            display: block;
            background-color: white;
        }

        /* Ensure text overlay stays above white background */
        .cover-text-overlay {
            z-index: 2;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand navbar-light transparent-navbar fixed-top">
        <div class="container-fluid">
            <!-- Logo and link -->
            <a href="https://tepedu.dk/" target="_blank" rel="noopener noreferrer">
                <img src="tepedulogoanim.svg" alt="Te Pedu Logo" style="height: 35px; margin-right: 15px;">
            </a>
            <!-- Left-aligned Home Icon -->
            <a class="navbar-brand" href="index.html">
                <i class="bi bi-house-door"></i>
            </a>

            <!-- Right-aligned Navbar Items -->
            <ul class="navbar-nav ml-auto align-items-center">
                <!-- Dropdown Menu for Pages -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="bi bi-list icon-margin"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                        <!-- Menu items will be generated by menu.js -->
                    </div>
                </li>

                <!-- Left Arrow Icon (Previous Page) -->
                <li class="nav-item">
                    <a class="nav-link" id="prev-page-link" href="#">
                        <i class="bi bi-arrow-left"></i>
                    </a>
                </li>

                <!-- Right Arrow Icon (Next Page) -->
                <li class="nav-item">
                    <a class="nav-link" id="next-page-link" href="#">
                        <i class="bi bi-arrow-right"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>


    <!-- Page Content -->
    <div class="content">
        <div class="container mt-4">
            <article>
                <div class="chart-container"
                style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
                <canvas id="plot51"></canvas>
            </div>


            <small>
                <p>Figur 5.1: Markedsligevægt for cafe latte. Efterspørgselskurven (rød) og udbudskurven (grøn)
                    skærer hinanden ved en pris på 60 kr. og en mængde på 80 kopper, hvilket indikerer
                    markedsligevægten.</p>
            </small>    

            <div class="chart-container"
            style="position: relative; height:50vh; width:100%; margin: 20px auto; text-align: center;">
            <canvas id="plot52"></canvas>
        </div>


        <small>
            <p>Figur 5.2: Markedsligevægt for cafe latte. Efterspørgselskurven (rød) og udbudskurven (grøn)
                skærer hinanden ved en pris på 60 kr. og en mængde på 80 kopper, hvilket indikerer
                markedsligevægten.</p>
        </small>    
            </article>
        </div>
    </div>

    <!-- Left-aligned TOC Sidebar -->
    <div id="left-aligned-sidebar">
        <h4>Indholdsfortegnelse</h4>
        <ul id="sidebar-toc"></ul>
    </div>
    <button id="sidebar-toggle-button">
        <span class="icon-open">☰</span>
        <span class="icon-close">×</span>
    </button>

    <!-- jQuery and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- External JavaScript Files -->
    <script src="menu.js"></script>
    <script src="script.js"></script>
    <script src="info.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/wavesurfer.js"></script>
    <script src="podcast-player-modern.js"></script>
    <!-- MDB JS -->
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>

    <!-- plot51 -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Get the canvas element's context
            const ctx = document.getElementById('plot51').getContext('2d');

            // Create the new chart instance with the full configuration
            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Efterspørgsel',
                        data: [
                            { x: 0, y: 100 }, { x: 20, y: 90 }, { x: 40, y: 80 }, { x: 60, y: 70 }, { x: 80, y: 60 },
                            { x: 100, y: 50 }, { x: 120, y: 40 }, { x: 140, y: 30 }, { x: 160, y: 20 }, { x: 180, y: 10 }, { x: 200, y: 0 }
                        ],
                        borderColor: 'green',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'green',
                        lineTension: 0
                    },
                    {
                        label: 'Udbud',
                        data: [
                            { x: 0, y: 20 }, { x: 20, y: 30 }, { x: 40, y: 40 }, { x: 60, y: 50 }, { x: 80, y: 60 },
                            { x: 100, y: 70 }, { x: 120, y: 80 }, { x: 140, y: 90 }, { x: 160, y: 100 }, { x: 180, y: 110 }, { x: 200, y: 120 }
                        ],
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'red',
                        lineTension: 0
                    },
                    {
                        label: 'Prislinje (P=80 kr.)',
                        data: [
                            { x: 0, y: 80 },
                            { x: 120, y: 80 }, // Horizontal line at y=80
                            null, // Disconnect
                            { x: 40, y: 0 },
                            { x: 40, y: 80 }, // Vertical line at x=40
                            null, // Disconnect
                            { x: 120, y: 0 },
                            { x: 120, y: 80 }  // Vertical line at x=120
                        ],
                        borderColor: 'black',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        lineTension: 0 // Ensures perfectly straight lines
                    },
                    {
                        label: 'Tekst',
                        data: [{ x: 80, y: 0 }, { x: 80, y: 80 }],
                        borderColor: 'blue',
                        borderWidth: 0.0000001,
                        fill: false,
                        pointRadius: 0,
                        pointBackgroundColor: 'blue',
                        pointBorderColor: 'blue',
                        lineTension: 0
                    },
                    {
                        label: 'Tekst2',
                        data: [{ x: 40, y: 0 }, { x: 40, y: 60 }],
                        borderColor: 'purple',
                        borderWidth: 0.0000001,
                        fill: false,
                        pointRadius: 0,
                        pointBackgroundColor: 'purple',
                        pointBorderColor: 'purple',
                        lineTension: 0
                    },
                    {
                        label: 'Tekst3',
                        data: [{ x: 120, y: 0 }, { x: 120, y: 100 }],
                        borderColor: 'orange',
                        borderWidth: 0.0000001,
                        fill: false,
                        pointRadius: 0,
                        pointBackgroundColor: 'orange',
                        pointBorderColor: 'orange',
                        lineTension: 0
                    },
                    {
                        label: 'Tekst4',
                        data: [{ x: 60, y: 0 }, { x: 60, y: 70 }],
                        borderColor: 'brown',
                        borderWidth: 0.0000001,
                        fill: false,
                        pointRadius: 0,
                        pointBackgroundColor: 'brown',
                        pointBorderColor: 'brown',
                        lineTension: 0
                    }
                        // {
                        //     label: 'Forbrugeroverskud',
                        //     data: [{ x: 0, y: 100 }, { x: 80, y: 60 }, { x: 0, y: 60 }],
                        //     backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        //     borderColor: 'transparent',
                        //     fill: true,
                        //     pointRadius: 0,
                        //     lineTension: 0 // Ensures a sharp, straight-edged triangle
                        // },
                        // {
                        //     label: 'Producentoverskud',
                        //     data: [{ x: 0, y: 60 }, { x: 80, y: 60 },  { x: 0, y: 20 }],
                        //     backgroundColor: 'rgba(153, 102, 255, 0.5)',
                        //     borderColor: 'transparent',
                        //     fill: true,
                        //     pointRadius: 0,
                        //     lineTension: 0 // Ensures a sharp, straight-edged polygon
                        // }


                    ]
                },



                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Forbrugeroverskud og Producentoverskud (Pris = 80 kr.)',
                        fontSize: 18
                    },
                    scales: {
                        xAxes: [{
                            type: 'linear',
                            position: 'bottom',
                            scaleLabel: { display: true, labelString: 'Efterspørgsel i stk.' },
                            ticks: {
                                beginAtZero: true,
                                stepSize: 20,
                                // This callback function adds ' stk.' to each tick label on the x-axis
                                callback: function (value, index, values) {
                                    return value + ' stk.';
                                }
                            }
                        }],
                        yAxes: [{
                            scaleLabel: { display: true, labelString: 'Pris (kr.)' },
                            ticks: {
                                beginAtZero: true,
                                stepSize: 10,
                                // This callback function adds ' stk.' to each tick label on the x-axis
                                callback: function (value, index, values) {
                                    return value + ' kr.';
                                }
                            }
                        }]
                    },
                    tooltips: {
                        callbacks: {
                            title: function () {
                                return ''; // Remove the title (which displays the X-axis value)
                            },
                            label: function (tooltipItem, data) {
                                const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                let label = datasetLabel;
                                if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                    const yValue = tooltipItem.yLabel;
                                    const xValue = tooltipItem.xLabel;
                                    label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                    // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                    return ''; // Hide label for the dashed line itself
                                }
                                return label;
                            }
                        }
                    },
                    plugins: {
                        datalabels: {
                            // This function controls how the label is formatted
                            formatter: function (value, context) {
                                const datasetLabel = context.dataset.label;
                                if (datasetLabel === 'Tekst') {
                                    return 'Overskudsproduktion';
                                } else if (datasetLabel === 'Tekst2') {
                                    return 'Mangel';
                                } else if (datasetLabel === 'Tekst3') {
                                    return 'Efterspørgsel';
                                } else if (datasetLabel === 'Tekst4') {
                                    return 'Udbud';
                                }
                                const point = context.dataset.data[context.dataIndex];
                                return '(' + point.x + ' stk., ' + point.y + ' kr.)';
                            },
                            // Simple black frame for Tekst datasets
                            backgroundColor: function(context) {
                                const datasetLabel = context.dataset.label;
                                return (datasetLabel === 'Tekst' || datasetLabel === 'Tekst2' || datasetLabel === 'Tekst3' || datasetLabel === 'Tekst4') ? 'white' : 'transparent';
                            },
                            borderColor: function(context) {
                                const datasetLabel = context.dataset.label;
                                return (datasetLabel === 'Tekst' || datasetLabel === 'Tekst2' || datasetLabel === 'Tekst3' || datasetLabel === 'Tekst4') ? 'black' : 'transparent';
                            },
                            borderWidth: function(context) {
                                const datasetLabel = context.dataset.label;
                                return (datasetLabel === 'Tekst' || datasetLabel === 'Tekst2' || datasetLabel === 'Tekst3' || datasetLabel === 'Tekst4') ? 1 : 0;
                            },
                            // This function controls which labels are shown
                            display: function (context) {
                                const datasetLabel = context.dataset.label;
                                // Show labels for datasets and Tekst datasets
                                if (datasetLabel === 'Tekst' || datasetLabel === 'Tekst2' || datasetLabel === 'Tekst3' || datasetLabel === 'Tekst4') {
                                    return context.dataIndex === 1; // Only show label on the top point
                                }
                                return datasetLabel === 'Efterspørgsel' || datasetLabel === 'Udbud';
                            },
                            color: '#333',
                            font: {
                                weight: 'bold',
                                size: 10,
                            },
                            align: 'end', // Position the label above the point
                            offset: 8     // Distance in pixels from the point
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>

    <!-- plot52 -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            // Get the canvas element's context
            const ctx = document.getElementById('plot52').getContext('2d');

            // Create the new chart instance with the full configuration
            const myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'Efterspørgsel',
                        data: [
                            { x: 0, y: 100 }, { x: 20, y: 90 }, { x: 40, y: 80 }, { x: 60, y: 70 }, { x: 80, y: 60 },
                            { x: 100, y: 50 }, { x: 120, y: 40 }, { x: 140, y: 30 }, { x: 160, y: 20 }, { x: 180, y: 10 }, { x: 200, y: 0 }
                        ],
                        borderColor: 'green',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'green',
                        lineTension: 0
                    },
                    {
                        label: 'Udbud',
                        data: [
                            { x: 0, y: 20 }, { x: 20, y: 30 }, { x: 40, y: 40 }, { x: 60, y: 50 }, { x: 80, y: 60 },
                            { x: 100, y: 70 }, { x: 120, y: 80 }, { x: 140, y: 90 }, { x: 160, y: 100 }, { x: 180, y: 110 }, { x: 200, y: 120 }
                        ],
                        borderColor: 'red',
                        backgroundColor: 'transparent',
                        borderWidth: 2.5,
                        pointRadius: 3,
                        pointBackgroundColor: 'red',
                        lineTension: 0
                    },
                    {
                        label: 'Prislinje (P=80)',
                        data: [
                            { x: 0, y: 80 },
                            { x: 120, y: 80 }, // Horizontal line at y=80
                            null, // Disconnect
                            { x: 40, y: 0 },
                            { x: 40, y: 80 }, // Vertical line at x=40
                            null, // Disconnect
                            { x: 120, y: 0 },
                            { x: 120, y: 80 }  // Vertical line at x=120
                        ],
                        borderColor: 'black',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        lineTension: 0 // Ensures perfectly straight lines
                    }
                        // {
                        //     label: 'Forbrugeroverskud',
                        //     data: [{ x: 0, y: 100 }, { x: 80, y: 60 }, { x: 0, y: 60 }],
                        //     backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        //     borderColor: 'transparent',
                        //     fill: true,
                        //     pointRadius: 0,
                        //     lineTension: 0 // Ensures a sharp, straight-edged triangle
                        // },
                        // {
                        //     label: 'Producentoverskud',
                        //     data: [{ x: 0, y: 60 }, { x: 80, y: 60 },  { x: 0, y: 20 }],
                        //     backgroundColor: 'rgba(153, 102, 255, 0.5)',
                        //     borderColor: 'transparent',
                        //     fill: true,
                        //     pointRadius: 0,
                        //     lineTension: 0 // Ensures a sharp, straight-edged polygon
                        // }


                    ]
                },



                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    title: {
                        display: true,
                        text: 'Forbrugeroverskud og Producentoverskud (Pris = 80)',
                        fontSize: 18
                    },
                    scales: {
                        xAxes: [{
                            type: 'linear',
                            position: 'bottom',
                            scaleLabel: { display: true, labelString: 'Efterspørgsel i stk.' },
                            ticks: {
                                beginAtZero: true,
                                stepSize: 20,
                                // This callback function adds ' stk.' to each tick label on the x-axis
                                callback: function (value, index, values) {
                                    return value + ' stk.';
                                }
                            }
                        }],
                        yAxes: [{
                            scaleLabel: { display: true, labelString: 'Pris (kr.)' },
                            ticks: {
                                beginAtZero: true,
                                stepSize: 10,
                                // This callback function adds ' stk.' to each tick label on the x-axis
                                callback: function (value, index, values) {
                                    return value + ' kr.';
                                }
                            }
                        }]
                    },
                    tooltips: {
                        callbacks: {
                            title: function () {
                                return ''; // Remove the title (which displays the X-axis value)
                            },
                            label: function (tooltipItem, data) {
                                const datasetLabel = data.datasets[tooltipItem.datasetIndex].label || '';
                                let label = datasetLabel;
                                if (datasetLabel === 'Udbud' || datasetLabel === 'Efterspørgsel') {
                                    const yValue = tooltipItem.yLabel;
                                    const xValue = tooltipItem.xLabel;
                                    label = `${datasetLabel}: Pris: ${yValue} kr., Mængde: ${xValue} stk.`;
                                } else if (datasetLabel === 'Ligevægt (P=60, X=80)') {
                                    // For the equilibrium dashed line, show both X and Y if needed, or just hide
                                    return ''; // Hide label for the dashed line itself
                                }
                                return label;
                            }
                        }
                    },
                    plugins: {
                        datalabels: {
                            // This function controls how the label is formatted
                            formatter: function (value, context) {
                                const point = context.dataset.data[context.dataIndex];
                                return '(' + point.x + ' stk., ' + point.y + ' kr.)';
                            },
                            // This function controls which labels are shown
                            display: function (context) {
                                const datasetLabel = context.dataset.label;
                                // Only show labels for these two datasets
                                return datasetLabel === 'Efterspørgsel' || datasetLabel === 'Udbud';
                            },
                            color: '#333',
                            font: {
                                weight: 'bold',
                                size: 10,
                            },
                            align: 'end', // Position the label above the point
                            offset: 8     // Distance in pixels from the point
                        }
                    }
                },
                plugins: [ChartDataLabels]
            });
        });
    </script>

    
</body>

</html>